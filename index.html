<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Project MO</title>
    <link href="./src/index.css" rel="stylesheet" type="text/css" />
  </head>
  <body>
    <header>
      <h1>Project M.O.</h1>
      <details>
        <summary>Rules</summary>
        <p>
          This game is based on the physical card game Matrix Overload by
          <a href="https://www.patreon.com/notwriting">Michael Elliot</a>. This digital version was created by
          <a href="https://andrew565.github.io/">Andrew Steele</a>.
        </p>
        <p>
          The goal of this game is to defeat the Royal cards (Jacks, Queens, Kings) before they become too powerful to
          beat, and before you run out of cards to play against them.
        </p>
        <p>
          To play, you must line up cards in rows or columns in order to defeat the royal cards. The value of the two
          cards closest to the royal's row or column must add up to the value of the royal, or higher. A Jack can be
          beaten with any two cards adding up to at least 11 points, a Queen requires at least 12 points and the cards
          must be of the same color as the Queen, and a King must be beaten with two same-suited cards adding up to at
          least 13 points.
        </p>
        <p>
          When you draw a Royal, they get placed in one of the outer piles. They should be placed next to the
          highest-value same-suited card, if a place is available. If no same-suited space is available, then the
          highest same-color space should be chosen. If no same-color space is available, then the royal should be
          placed next to the highest card with an open spot. If two spots are open (like on a corner), you may choose
          either of the two places.
        </p>
        <p>
          Cards from Ace to 10 are placed on the nine inner piles, and can only be placed on piles where the top card is
          the same value or lower than the card to be placed. For example, a 7 can be placed on top of anything from an
          Ace through a 7, but not on an 8, 9, or 10.
        </p>
        <p>
          If a 'number' card cannot be placed on an inner pile, it must be added to a royal as 'armor'. For example, if
          there is no valid place in the inner piles to add a 2, you would then add it to a Jack, Queen, or King, which
          would increase that royal's difficulty to defeat by two points. A Jack with a 2 would require 13 points to
          defeat instead of 11. The normal rules about suits and/or color requirements remain the same.
        </p>
      </details>
    </header>

    <section id="gameControls">
      <button id="newGameButton">Start a new game</button>
      <button id="undoButton">Undo</button>
      <button id="redoButton">Redo</button>
    </section>

    <main id="mainGrid" class="grid">
      <div id="a1"></div>
      <div id="b1" class="pile pile--outer"></div>
      <div id="c1" class="pile pile--outer"></div>
      <div id="d1" class="pile pile--outer"></div>
      <div id="e1"></div>
      <div id="a2" class="pile pile--outer pile--horizontal"></div>
      <div id="b2" class="pile pile--inner"></div>
      <div id="c2" class="pile pile--inner"></div>
      <div id="d2" class="pile pile--inner"></div>
      <div id="e2" class="pile pile--outer pile--horizontal"></div>
      <div id="a3" class="pile pile--outer pile--horizontal"></div>
      <div id="b3" class="pile pile--inner"></div>
      <div id="c3" class="pile pile--inner"></div>
      <div id="d3" class="pile pile--inner"></div>
      <div id="e3" class="pile pile--outer pile--horizontal"></div>
      <div id="a4" class="pile pile--outer pile--horizontal"></div>
      <div id="b4" class="pile pile--inner"></div>
      <div id="c4" class="pile pile--inner"></div>
      <div id="d4" class="pile pile--inner"></div>
      <div id="e4" class="pile pile--outer pile--horizontal"></div>
      <div id="a5"></div>
      <div id="b5" class="pile pile--outer"></div>
      <div id="c5" class="pile pile--outer"></div>
      <div id="d5" class="pile pile--outer"></div>
      <div id="e5" class="pile"></div>
    </main>

    <template id="faceUpCardTemplate">
      <div class="mo-card mo-card--face-up">
        <div class="mo-card__corner">
          <div class="mo-card__rank"></div>
          <div class="mo-card__suit"></div>
        </div>
        <div class="mo-card__name"></div>
      </div>
    </template>

    <template id="faceDownCardTemplate">
      <div class="mo-card mo-card--face-down">
        <div class="mo-card__back">M. O.</div>
      </div>
    </template>

    <template id="emptyCardTemplate">
      <div class="mo-card mo-card--empty">
        <div class="mo-card__placeholder">Empty Pile</div>
      </div>
    </template>

    <script src="bundle.js" type="text/javascript"></script>
  </body>
</html>
